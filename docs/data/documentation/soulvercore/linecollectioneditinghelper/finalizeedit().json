{"kind":"symbol","sections":[],"identifier":{"url":"doc:\/\/app.soulver.core\/documentation\/SoulverCore\/LineCollectionEditingHelper\/finalizeEdit()","interfaceLanguage":"swift"},"primaryContentSections":[{"kind":"declarations","declarations":[{"platforms":["macOS"],"tokens":[{"text":"@","kind":"attribute"},{"text":"MainActor","kind":"attribute","preciseIdentifier":"s:ScM"},{"text":" ","kind":"text"},{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"kind":"identifier","text":"finalizeEdit"},{"kind":"text","text":"() -> "},{"identifier":"doc:\/\/app.soulver.core\/documentation\/SoulverCore\/LineCollectionIndexDiff","kind":"typeIdentifier","text":"LineCollectionIndexDiff","preciseIdentifier":"s:11SoulverCore23LineCollectionIndexDiffV"}],"languages":["swift"]}]},{"content":[{"text":"Discussion","anchor":"discussion","type":"heading","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Returns a diff of which indexes in the line collection were inserted, added and edited"}]}]},{"content":[{"inlineContent":[{"text":"The line collection will also be evaluated as a result of this call, but please note that any variable dependency lines will be evaluated later","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Both NSTextView and UITextView offer textDidChange delegate callbacks that fire when the underlying text has been updated. This is the right time to call endEdit() and update the line collection with the new expressions","type":"text"}]}]}]},{"anchor":"Cocoa-delegate-methods-you-might-implement-by-platform","type":"heading","level":2,"text":"Cocoa delegate methods you might implement by platform"},{"type":"heading","level":3,"anchor":"macOS","text":"macOS"},{"syntax":"swift","code":["@MainActor","optional func textDidChange(_ notification: Notification)"],"type":"codeListing"},{"text":"iOS","anchor":"iOS","level":3,"type":"heading"},{"type":"codeListing","syntax":"swift","code":["optional func textViewDidChange(_ textView: UITextView)"]}],"kind":"content"}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/soulvercore\/linecollectioneditinghelper\/finalizeedit()"]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"hierarchy":{"paths":[["doc:\/\/app.soulver.core\/documentation\/SoulverCore","doc:\/\/app.soulver.core\/documentation\/SoulverCore\/LineCollectionEditingHelper"]]},"metadata":{"symbolKind":"method","title":"finalizeEdit()","role":"symbol","externalID":"s:11SoulverCore27LineCollectionEditingHelperC12finalizeEditAA0cD9IndexDiffVyF","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"finalizeEdit","kind":"identifier"},{"kind":"text","text":"() -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:11SoulverCore23LineCollectionIndexDiffV","text":"LineCollectionIndexDiff"}],"modules":[{"name":"SoulverCore"}],"roleHeading":"Instance Method"},"abstract":[{"text":"Call this this ","type":"text"},{"type":"emphasis","inlineContent":[{"type":"text","text":"after"}]},{"type":"text","text":" the underlying text has been changed"}],"references":{"doc://app.soulver.core/documentation/SoulverCore/LineCollectionIndexDiff":{"title":"LineCollectionIndexDiff","identifier":"doc:\/\/app.soulver.core\/documentation\/SoulverCore\/LineCollectionIndexDiff","kind":"symbol","url":"\/documentation\/soulvercore\/linecollectionindexdiff","role":"symbol","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"LineCollectionIndexDiff"}],"navigatorTitle":[{"text":"LineCollectionIndexDiff","kind":"identifier"}],"type":"topic","abstract":[{"text":"Captures metrics about how the line collection indexes changed after a text view edit has been processed","type":"text"}]},"doc://app.soulver.core/documentation/SoulverCore/LineCollectionEditingHelper/finalizeEdit()":{"url":"\/documentation\/soulvercore\/linecollectioneditinghelper\/finalizeedit()","kind":"symbol","type":"topic","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"finalizeEdit","kind":"identifier"},{"text":"() -> ","kind":"text"},{"kind":"typeIdentifier","text":"LineCollectionIndexDiff","preciseIdentifier":"s:11SoulverCore23LineCollectionIndexDiffV"}],"identifier":"doc:\/\/app.soulver.core\/documentation\/SoulverCore\/LineCollectionEditingHelper\/finalizeEdit()","role":"symbol","abstract":[{"text":"Call this this ","type":"text"},{"type":"emphasis","inlineContent":[{"text":"after","type":"text"}]},{"text":" the underlying text has been changed","type":"text"}],"title":"finalizeEdit()"},"doc://app.soulver.core/documentation/SoulverCore/LineCollectionEditingHelper":{"kind":"symbol","role":"symbol","type":"topic","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"LineCollectionEditingHelper"}],"title":"LineCollectionEditingHelper","abstract":[{"text":"Supports Soulver-like apps that want to efficiently synchronize edits from multi-line text to a ","type":"text"},{"type":"reference","identifier":"doc:\/\/app.soulver.core\/documentation\/SoulverCore\/LineCollection","isActive":true}],"identifier":"doc:\/\/app.soulver.core\/documentation\/SoulverCore\/LineCollectionEditingHelper","navigatorTitle":[{"text":"LineCollectionEditingHelper","kind":"identifier"}],"url":"\/documentation\/soulvercore\/linecollectioneditinghelper"},"doc://app.soulver.core/documentation/SoulverCore":{"url":"\/documentation\/soulvercore","abstract":[{"text":"A powerful natural language calculation engine","type":"text"}],"type":"topic","identifier":"doc:\/\/app.soulver.core\/documentation\/SoulverCore","kind":"symbol","title":"SoulverCore","role":"collection"},"doc://app.soulver.core/documentation/SoulverCore/LineCollection":{"abstract":[{"type":"text","text":"Perform calculations across multiple lines"}],"navigatorTitle":[{"kind":"identifier","text":"LineCollection"}],"role":"symbol","kind":"symbol","type":"topic","url":"\/documentation\/soulvercore\/linecollection","title":"LineCollection","identifier":"doc:\/\/app.soulver.core\/documentation\/SoulverCore\/LineCollection","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"LineCollection"}]}}}