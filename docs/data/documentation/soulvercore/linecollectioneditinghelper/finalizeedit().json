{"abstract":[{"type":"text","text":"Call this this "},{"inlineContent":[{"text":"after","type":"text"}],"type":"emphasis"},{"type":"text","text":" the underlying text has been changed"}],"hierarchy":{"paths":[["doc:\/\/app.soulver.core\/documentation\/SoulverCore","doc:\/\/app.soulver.core\/documentation\/SoulverCore\/LineCollectionEditingHelper"]]},"metadata":{"symbolKind":"method","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"finalizeEdit"},{"kind":"text","text":"() -> "},{"kind":"typeIdentifier","text":"LineCollectionIndexDiff","preciseIdentifier":"s:11SoulverCore23LineCollectionIndexDiffV"}],"role":"symbol","roleHeading":"Instance Method","modules":[{"name":"SoulverCore"}],"title":"finalizeEdit()","externalID":"s:11SoulverCore27LineCollectionEditingHelperC12finalizeEditAA0cD9IndexDiffVyF"},"sections":[],"identifier":{"url":"doc:\/\/app.soulver.core\/documentation\/SoulverCore\/LineCollectionEditingHelper\/finalizeEdit()","interfaceLanguage":"swift"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/soulvercore\/linecollectioneditinghelper\/finalizeedit()"]}],"schemaVersion":{"major":0,"patch":0,"minor":3},"primaryContentSections":[{"declarations":[{"languages":["swift"],"tokens":[{"text":"@","kind":"attribute"},{"preciseIdentifier":"s:ScM","text":"MainActor","kind":"attribute"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"finalizeEdit","kind":"identifier"},{"text":"() -> ","kind":"text"},{"identifier":"doc:\/\/app.soulver.core\/documentation\/SoulverCore\/LineCollectionIndexDiff","preciseIdentifier":"s:11SoulverCore23LineCollectionIndexDiffV","text":"LineCollectionIndexDiff","kind":"typeIdentifier"}],"platforms":["macOS"]}],"kind":"declarations"},{"content":[{"type":"heading","text":"Discussion","level":2,"anchor":"discussion"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Returns a diff of which indexes in the line collection were inserted, added and edited"}]}]},{"content":[{"inlineContent":[{"text":"The line collection will also be evaluated as a result of this call, but please note that any variable dependency lines will be evaluated later","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Both NSTextView and UITextView offer textDidChange delegate callbacks that fire when the underlying text has been updated. This is the right time to call endEdit() and update the line collection with the new expressions"}]}]}]},{"type":"heading","text":"Cocoa delegate methods you might implement by platform","level":2,"anchor":"Cocoa-delegate-methods-you-might-implement-by-platform"},{"type":"heading","text":"macOS","level":3,"anchor":"macOS"},{"type":"codeListing","code":["@MainActor","optional func textDidChange(_ notification: Notification)"],"syntax":"swift"},{"type":"heading","text":"iOS","level":3,"anchor":"iOS"},{"type":"codeListing","code":["optional func textViewDidChange(_ textView: UITextView)"],"syntax":"swift"}],"kind":"content"}],"kind":"symbol","references":{"doc://app.soulver.core/documentation/SoulverCore/LineCollectionEditingHelper/finalizeEdit()":{"abstract":[{"text":"Call this this ","type":"text"},{"inlineContent":[{"type":"text","text":"after"}],"type":"emphasis"},{"text":" the underlying text has been changed","type":"text"}],"url":"\/documentation\/soulvercore\/linecollectioneditinghelper\/finalizeedit()","type":"topic","title":"finalizeEdit()","role":"symbol","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"finalizeEdit"},{"kind":"text","text":"() -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:11SoulverCore23LineCollectionIndexDiffV","text":"LineCollectionIndexDiff"}],"kind":"symbol","identifier":"doc:\/\/app.soulver.core\/documentation\/SoulverCore\/LineCollectionEditingHelper\/finalizeEdit()"},"doc://app.soulver.core/documentation/SoulverCore":{"type":"topic","identifier":"doc:\/\/app.soulver.core\/documentation\/SoulverCore","title":"SoulverCore","abstract":[{"text":"A powerful natural language calculation engine","type":"text"}],"kind":"symbol","url":"\/documentation\/soulvercore","role":"collection"},"doc://app.soulver.core/documentation/SoulverCore/LineCollectionIndexDiff":{"type":"topic","url":"\/documentation\/soulvercore\/linecollectionindexdiff","kind":"symbol","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"LineCollectionIndexDiff"}],"identifier":"doc:\/\/app.soulver.core\/documentation\/SoulverCore\/LineCollectionIndexDiff","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"LineCollectionIndexDiff"}],"abstract":[{"text":"Captures metrics about how the line collection indexes changed after a text view edit has been processed","type":"text"}],"title":"LineCollectionIndexDiff"},"doc://app.soulver.core/documentation/SoulverCore/LineCollection":{"role":"symbol","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"LineCollection"}],"url":"\/documentation\/soulvercore\/linecollection","navigatorTitle":[{"kind":"identifier","text":"LineCollection"}],"kind":"symbol","abstract":[{"type":"text","text":"Perform calculations across multiple lines"}],"title":"LineCollection","type":"topic","identifier":"doc:\/\/app.soulver.core\/documentation\/SoulverCore\/LineCollection"},"doc://app.soulver.core/documentation/SoulverCore/LineCollectionEditingHelper":{"type":"topic","navigatorTitle":[{"kind":"identifier","text":"LineCollectionEditingHelper"}],"abstract":[{"type":"text","text":"Supports Soulver-like apps that want to efficiently synchronize edits from multi-line text to a "},{"type":"reference","identifier":"doc:\/\/app.soulver.core\/documentation\/SoulverCore\/LineCollection","isActive":true}],"role":"symbol","title":"LineCollectionEditingHelper","url":"\/documentation\/soulvercore\/linecollectioneditinghelper","kind":"symbol","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"LineCollectionEditingHelper"}],"identifier":"doc:\/\/app.soulver.core\/documentation\/SoulverCore\/LineCollectionEditingHelper"}}}