{"sections":[],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/app.soulver.core\/documentation\/SoulverCore\/DateParsing"},"schemaVersion":{"minor":3,"patch":0,"major":0},"abstract":[{"text":"Add a natural language date scheduling feature to your Mac or iOS calendar or reminders app","type":"text"}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/soulvercore\/dateparsing"]}],"metadata":{"modules":[{"name":"SoulverCore"}],"roleHeading":"Article","role":"article","title":"Natural language date parsing"},"seeAlsoSections":[{"identifiers":["doc:\/\/app.soulver.core\/documentation\/SoulverCore\/DataParsing"],"title":"String extensions for quick data parsing","generated":true,"anchor":"String-extensions-for-quick-data-parsing"}],"primaryContentSections":[{"kind":"content","content":[{"anchor":"Motivation","text":"Motivation","level":2,"type":"heading"},{"type":"paragraph","inlineContent":[{"text":"Natural language date input features can be found in apps like ","type":"text"},{"type":"reference","identifier":"https:\/\/culturedcode.com\/things\/support\/articles\/9780167\/","isActive":true},{"text":", ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/flexibits.com\/fantastical-ios\/help\/adding"},{"type":"text","text":" and "},{"identifier":"https:\/\/www.raycast.com\/extensions\/reminders","type":"reference","isActive":true},{"type":"text","text":" and make the user experience better."}]},{"level":2,"text":"Usage","anchor":"Usage","type":"heading"},{"inlineContent":[{"code":"SoulverCore","type":"codeVoice"},{"text":" adds a single property ","type":"text"},{"code":"dateValue","type":"codeVoice"},{"type":"text","text":" to "},{"type":"codeVoice","code":"String"},{"text":":","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["public extension String {","   var dateValue: Date?","}"]},{"inlineContent":[{"text":"Use this property to extract the last natural language date found in the string. The ","type":"text"},{"code":"dateValue","type":"codeVoice"},{"text":" will be ","type":"text"},{"type":"codeVoice","code":"nil"},{"text":" if there are no dates in the string.","type":"text"}],"type":"paragraph"},{"anchor":"SoulverCore-vs-Foundations-DataDetector","text":"SoulverCore vs Foundation’s DataDetector","type":"heading","level":2},{"inlineContent":[{"type":"text","text":"Apple’s Foundation framework includes NSDataDetector for detecting dates in strings."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Here is an example:"}],"type":"paragraph"},{"code":["let expression = \"March 5th, 2023\"","let types: NSTextCheckingResult.CheckingType = [.date ]","let detector = try! NSDataDetector(types: types.rawValue)","let match = detector.matches(in: expression, options: .init(rawValue: 0), range: NSRange(location: 0, length: expression.count)).first","let date = match?.date"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Compare this to SoulverCore:"}]},{"code":["let date = \"March 5th, 2023\".dateValue"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"type":"text","text":"In addition to a much nicer API, SoulverCore also adds a number of additional features not supported by NSDataDetector."}],"type":"paragraph"},{"text":"Supported Features","level":2,"anchor":"Supported-Features","type":"heading"},{"anchor":"Natural-language-calendar-math","type":"heading","text":"Natural language calendar math","level":4},{"type":"paragraph","inlineContent":[{"text":"Use natural language phrases like “3 weeks from tomorrow” and “march 12 + 4 weeks 3 days”.","type":"text"}]},{"inlineContent":[{"type":"text","text":"SoulverCore supports a large range of different natural language date syntaxes. See the "},{"type":"reference","isActive":true,"identifier":"https:\/\/documentation.soulver.app\/syntax-reference\/dates-and-times"},{"text":" for more examples.","type":"text"}],"type":"paragraph"},{"level":4,"text":"Units & unit shorthands","type":"heading","anchor":"Units--unit-shorthands"},{"type":"paragraph","inlineContent":[{"text":"SoulverCore interprets units of time as referring to a future date after the specified amount of time has passed.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"For example "},{"type":"codeVoice","code":"2 weeks 2 days"},{"type":"text","text":" will be interpreted as "},{"type":"codeVoice","code":"2 weeks and 2 days"},{"text":" ","type":"text"},{"inlineContent":[{"text":"from now","type":"text"}],"type":"strong"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The following time unit shorthands are also supported:"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"“1y” (1 year)"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"“5mo” (5 months)"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"“3w” (3 weeks)"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"“2d” (2 days)","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Shorthands can be combined together:"}]},{"items":[{"content":[{"inlineContent":[{"text":"“12-9 9p” means the “12th of September at 9pm” (in a non-US locale)","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"level":4,"type":"heading","text":"Half-formed dates","anchor":"Half-formed-dates"},{"inlineContent":[{"text":"Examples:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"“3\/12” (Dec 3, or March 12 in the US)"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"“12.2” (Feb 12 or Dec 2 in the US)","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"“9-5” (May 9 or Sep 5 in the US)","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"text":"Day & month shorthands","type":"heading","anchor":"Day--month-shorthands","level":4},{"type":"paragraph","inlineContent":[{"type":"text","text":"Examples:"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"“Next mon” (next monday)","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"“tod” (today)","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"“apr3” (April 3)"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"“yes” (yesterday)"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"“tom” (tomorrow)"}]}]}]},{"type":"heading","anchor":"AMPM-shorthands","text":"AM\/PM shorthands","level":4},{"inlineContent":[{"type":"text","text":"Examples:"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"“3p” (3pm)","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"“5a” (5am)","type":"text"}],"type":"paragraph"}]}]},{"text":"Random words ignored","level":4,"anchor":"Random-words-ignored","type":"heading"},{"type":"paragraph","inlineContent":[{"text":"SoulverCore extracts the last date present in the given string, and ignores random words before and after it.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"For example, the following are valid inputs:"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"“Tom’s birthday party ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"this sunday"}]},{"type":"text","text":"”"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"“Schedule the meeting for "},{"inlineContent":[{"type":"text","text":"April 21st next year"}],"type":"strong"},{"type":"text","text":"”"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"“"},{"type":"strong","inlineContent":[{"text":"June 5","type":"text"}]},{"text":" the kids get off school”","type":"text"}],"type":"paragraph"}]}]},{"anchor":"Detailed-information-about-the-parsed-date","text":"Detailed information about the parsed date","type":"heading","level":2},{"inlineContent":[{"text":"The ","type":"text"},{"identifier":"doc:\/\/app.soulver.core\/documentation\/SoulverCore\/Datestamp\/DatestampType","isActive":true,"type":"reference"},{"type":"text","text":" enum contains detailed information about the kind of date detected and what date components were explicitly specified."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Here is how an example of how to get the formatting and components of the detected date:"}]},{"type":"codeListing","syntax":"swift","code":["var engineCustomization = EngineCustomization.standard","engineCustomization.featureFlags.seeksFutureDate = true","let calculator = Calculator(customization: engineCustomization)","","if let datestampType = calculator.dateFor(inputDateText)?.result.evaluationResult.datestampValue?.type {","    print(\"Date of type \\(datestampType)\")","}"]},{"type":"heading","level":2,"anchor":"Performance","text":"Performance"},{"inlineContent":[{"text":"SoulverCore is very efficient and can perform thousands of date-from-string extractions every second.","type":"text"}],"type":"paragraph"},{"level":2,"type":"heading","anchor":"Localizations","text":"Localizations"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In addition to English, SoulverCore is localized into German, French, Spanish, Russian & Simplified Chinese."}]},{"inlineContent":[{"type":"text","text":"The user’s system locale will be used for date parsing, and date & time formats specific the particular region are taken into account."}],"type":"paragraph"}]}],"kind":"article","hierarchy":{"paths":[["doc:\/\/app.soulver.core\/documentation\/SoulverCore"]]},"references":{"https://documentation.soulver.app/syntax-reference/dates-and-times":{"identifier":"https:\/\/documentation.soulver.app\/syntax-reference\/dates-and-times","titleInlineContent":[{"text":"Soulver Documentation","type":"text"}],"url":"https:\/\/documentation.soulver.app\/syntax-reference\/dates-and-times","type":"link","title":"Soulver Documentation"},"doc://app.soulver.core/documentation/SoulverCore":{"url":"\/documentation\/soulvercore","abstract":[{"text":"A powerful natural language calculation engine","type":"text"}],"type":"topic","identifier":"doc:\/\/app.soulver.core\/documentation\/SoulverCore","kind":"symbol","title":"SoulverCore","role":"collection"},"doc://app.soulver.core/documentation/SoulverCore/Datestamp/DatestampType":{"url":"\/documentation\/soulvercore\/datestamp\/datestamptype","fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"text":"DatestampType","kind":"identifier"}],"identifier":"doc:\/\/app.soulver.core\/documentation\/SoulverCore\/Datestamp\/DatestampType","type":"topic","navigatorTitle":[{"text":"DatestampType","kind":"identifier"}],"kind":"symbol","role":"symbol","abstract":[{"type":"text","text":"The types of datestamps supported by SoulverCore"}],"title":"Datestamp.DatestampType"},"doc://app.soulver.core/documentation/SoulverCore/DataParsing":{"url":"\/documentation\/soulvercore\/dataparsing","title":"Data from string parsing","type":"topic","role":"article","identifier":"doc:\/\/app.soulver.core\/documentation\/SoulverCore\/DataParsing","kind":"article","abstract":[{"type":"text","text":"A declarative & type-safe approach to extracting various data types out of strings"}]},"https://culturedcode.com/things/support/articles/9780167/":{"identifier":"https:\/\/culturedcode.com\/things\/support\/articles\/9780167\/","titleInlineContent":[{"type":"text","text":"Things"}],"url":"https:\/\/culturedcode.com\/things\/support\/articles\/9780167\/","type":"link","title":"Things"},"https://www.raycast.com/extensions/reminders":{"identifier":"https:\/\/www.raycast.com\/extensions\/reminders","titleInlineContent":[{"text":"Raycast","type":"text"}],"url":"https:\/\/www.raycast.com\/extensions\/reminders","type":"link","title":"Raycast"},"https://flexibits.com/fantastical-ios/help/adding":{"identifier":"https:\/\/flexibits.com\/fantastical-ios\/help\/adding","titleInlineContent":[{"type":"text","text":"Fantastical"}],"url":"https:\/\/flexibits.com\/fantastical-ios\/help\/adding","type":"link","title":"Fantastical"}}}